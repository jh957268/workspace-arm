<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Untitled Document</title>
<link rel=stylesheet href="style.css" type="text/css" />
</head>

<body id="sysinfo">

<form action="wan.htm" method="get">
 <table cellspacing="0" cellpadding="0">
	<tr>
    	<td class="head" colspan="2">Item-Level Tracking Made Easy...</td>
    </tr>
	<tr>
    	<td colspan="2" class="pgtitle">iReader-989 WEB GUI Version 1.0.0.0</td>
    </tr>
    <tr>
    	<td valign="top">
        	<ul>
            <li><a href="sysinfo.html" id="sysinfo">Reader Settings</a></li>
            <li><a href="antenna.html" id="antenna">Antenna Status</a></li>
            <li><a href="taginfo.html" id="taginfo">Read Tags</a></li>
			<li><a href="tagdb.html" id="tagdb">Database Tags</a></li>
			<li><a href="asset.html" id="asset">Asset Monitoring</a></li>
			<li><a href="network.html" id="network">Network Settings</a></li>
            </ul>
        </td>
        <td>
        	<table cellspacing="0" cellpadding="0">
            	<tr>
                	<th colspan="2">Reader Settings</th>
              </tr>
            	<tr>
                    <td class="label">iReader Region</td>
                    <td class="input">
                      <select id="myHeader" size="1">
                        <option value="0" disabled>JAPAN</option>
                        <option value="1" disabled>KOREA</option>
                        <option value="2">USA</option>
                        <option value="3" disabled>CHINA</option>
                        <option value="4" disabled>CANADA</option>  
                      </select>
                    </td>
                </tr>
                <tr>
                    <td class="label">Tag Search Timeout(ms)</td>
                    <td class="input"><input type="text" name="searchtime" id="myHeader1" value="100" /></td>
                </tr>
                <tr>
                    <td></td>
 					<td class="submit"><input type=button style="width:120px" value="Submit" style="color:black" onClick="ProcessSetSearchTime(this.form)" /></td>
                </tr>
            	<tr>
                	<th colspan="2">Reader Status</th>
                </tr>
            	<tr>
                    <td class="label"><label for="temperature">Temperature</label></td>
                    <td class="input">
						<input type="text" name="Temperature" id="tempId" value="50" disabled />
						<input type=button style="width:120px" value="Read" style="color:black" onClick="ProcessGetTemp()" />
					</td>
                </tr>				
            </table>
        </td>
    </tr>
</table>
</form>

<form action="/cgi-bin/upload-cgi.cgi" method="post" enctype="multipart/form-data">
<table cellspacing="0" cellpadding="0">
    <tr>
    	<td valign="top">
        	<ul>
				<li hidden><a href="upload.html" id="upload">Upgrade Softwa</a></li>
            </ul>
        </td>
        <td>
        	<table cellspacing="0" cellpadding="0">
            	<tr>
                	<th colspan="2">Upgrade Software</th>
				</tr>
            	<tr>
                    <td class="label">Select Image to Upload:</label></td>
					<td class="input"><input type="file" name="fileToUpload" id="fileToUpload"></td>
                </tr>
                <tr>
                    <td></td>
                    <td class="submit"><input type="submit" value="Upload Image" name="submit" style="color: black";></td>
                </tr>		
            </table>
        </td>
    </tr>	
</table>
</form>

<script>

function ProcessSetSearchTime(thform)
{
	var xhttp = new XMLHttpRequest();
  	xhttp.onreadystatechange = function() {
    	if (this.readyState == 4 && this.status == 200) {
			//document.getElementById("result").innerHTML = this.responseText;
			alert("Set timeout " + this.responseText);
    	}
  	}
	var timeout;
	timeout = thform.searchtime.value;

	//alert(antid + power);
  	xhttp.open("GET", "cgi-bin/execgi-bin.cgi?setsearchtimeout&"+timeout, true);
  	xhttp.send();
}

function ProcessGetTemp()
{
	loadField('cgi-bin/execgi-bin.cgi?getmoduletemp', 'tempId');
}

 function loadDoc()
 { 
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("myHeader").value =
      this.responseText;
    }
  };
  xhttp.open("GET", "cgi-bin/rfid_test.cgi?s=C&o=1", true);
  xhttp.send();


  var xhttp1 = new XMLHttpRequest();
  xhttp1.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("myHeader1").value =
      this.responseText;
    }
  };
  xhttp1.open("GET", "cgi-bin/rfid_test1.cgi?s=C&o=1", true);
  xhttp1.send();
 }

 function loadField(url, id)
 { 
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById(id).value =
      this.responseText;
    }
  };
  xhttp.open("GET", url, true);
  xhttp.send();
 }

loadField('cgi-bin/execgi-bin.cgi?getregion', 'myHeader');
loadField('cgi-bin/execgi-bin.cgi?getsearchtimeout', 'myHeader1');
loadField('cgi-bin/execgi-bin.cgi?getmoduletemp', 'tempId');
//loadField('cgi-bin/rfid_test1.cgi', 'myHeader1');

</script>

</body>
</html>

